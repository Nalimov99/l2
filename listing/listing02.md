Что выведет программа? Объяснить вывод программы. Объяснить как работают defer’ы и их порядок вызовов.

```go
package main

import (
	"fmt"
)


func test() (x int) {
	defer func() {
		x++
	}()
	x = 1
	return
}


func anotherTest() int {
	var x int
	defer func() {
		x++
	}()
	x = 1
	return x
}


func main() {
	fmt.Println(test())
	fmt.Println(anotherTest())
}
```

Ответ:
```
Output:
2
1
```
В первом случае выводиться 2, потому что именнованное значение функции <br/>
будет находиться в scope до самого конца выполнения функции. <br />
Во втором же случае мы возвращаем значение, на которое defer уже не может повлиять. <br />
<br/>
defer используется для отложенного вызова функции. <br/>
Они всегда выполняются перед выходим из внешней функции, в которой defer объявлялась.<br/>
В коде все defer функции выполняются снизу вверх.<br/>
Если говорить это в контексте расположения в памяти, то они по порядку вызова закидываются в стэк и после основного выполнения<br/>
функции все defer функции выполняются начиная с последней сложенной в стэк к первой.<br/>
Аргументы, передаваемые в defer функции, вычисляются сразу же и задаются на момент передачи их в функцию